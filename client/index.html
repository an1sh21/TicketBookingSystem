<!DOCTYPE html>
<html>
<head>
  <title>Movie Booking App</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap');
  
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(120deg, #1f1c2c, #928dab);
      color: #eee;
      padding: 30px;
      margin: 0;
    }
  
    h1 {
      text-align: center;
      font-weight: 700;
      font-size: 2.8rem;
      margin-bottom: 10px;
    }
  
    h2 {
      text-align: center;
      font-weight: 500;
      margin-bottom: 40px;
    }
  
    .flex-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 40px;
    }
  
    .card {
      background-color: #1f1b2e;
      color: #fff;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.4);
      width: 300px;
      padding: 20px;
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      animation: fadeInUp 0.6s forwards;
      opacity: 0;
      transform: translateY(20px);
    }
  
    .card:hover {
      transform: translateY(-10px) scale(1.03);
      box-shadow: 0 10px 30px #ff9800aa;
    }
  
    .card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
      object-fit: cover;
      height: 450px;
    }
  
    .title {
      font-weight: 600;
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
  
    .rating {
      position: absolute;
      top: 15px;
      right: 15px;
      background: #ff9800;
      padding: 6px 12px;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: bold;
      color: #111;
    }
  
    p {
      font-size: 0.95rem;
      line-height: 1.4;
      margin-bottom: auto;
    }
  
    .btn {
      align-self: center;
	    padding: 0.5rem 1rem;
	    background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
	    color: white;
	    border: none;
	    border-radius: 30px;
	    font-weight: 600;
	    font-size: 0.9rem;
	    cursor: pointer;
	    transition: all 0.3s ease;
	    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
    }
  
    .btn:hover {
      transform: translateY(-3px);
	    box-shadow: 0 8px 20px rgba(255, 107, 107, 0.5);
    }
  
    @media (max-width: 768px) {
      .card {
        width: 100%;
      }
    }
  
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
  .carousel-container {
	position: relative;
	width: 100%;
	padding: 2rem 0;
  }

  .carousel {
	display: flex;
	gap: 2rem;
	transition: transform 0.5s ease-out;
	padding: 1.5rem 0;
  }
  .navigation {
	display: flex;
	justify-content: center;
	margin-top: 2rem;
	gap: 1rem;
  }

  .nav-btn {
	width: 50px;
	height: 50px;
	border-radius: 50%;
	border: none;
	display: flex;
	justify-content: center;
	align-items: center;
	background: rgba(255, 255, 255, 0.1);
	color: white;
	font-size: 1.2rem;
	cursor: pointer;
	transition: all 0.3s ease;
}

.nav-btn:hover {
	background: rgba(255, 255, 255, 0.2);
	transform: scale(1.1);
}

.nav-btn:active {
	transform: scale(0.95);
}

.dots {
	display: flex;
	justify-content: center;
	margin-top: 1.5rem;
	gap: 0.5rem;
}

.dot {
	width: 10px;
	height: 10px;
	border-radius: 50%;
	background: rgba(255, 255, 255, 0.3);
	cursor: pointer;
	transition: all 0.3s ease;
}

.dot.active {
	background: #4ecdc4;
	transform: scale(1.3);
}

.progress-bar {
	width: 100%;
	height: 5px;
	background: rgba(255, 255, 255, 0.1);
	border-radius: 5px;
	margin-top: 1rem;
	overflow: hidden;
}

.progress {
	height: 100%;
	background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
	width: 16.66%;
	transition: width 0.3s ease;
}


    
  </style>
  
</head>
<body>
  <h1>Welcome to MovieMania üé¨</h1>
  <h2>Now Showing:</h2>
  <div class="carousel-container">
		<div class="carousel">
      <div class="card">
        <h3 class="title">Avengers: Endgame</h3>
        <img src="https://m.media-amazon.com/images/I/81ai6zx6eXL._AC_SL1304_.jpg">
        <button class="btn">Book Now</button>
      </div>
      <div class="card">
        <h3 class="title">Spider-Man: No Way Home</h3>
        <img src="https://m.media-amazon.com/images/M/MV5BMmFiZGZjMmEtMTA0Ni00MzA2LTljMTYtZGI2MGJmZWYzZTQ2XkEyXkFqcGc@._V1_.jpg">
        <button class="btn">Book Now</button>
      </div>
      <div class="card">
        <h3 class="title">John Wick</h3>
        <img src="https://legacymovieposters.com/cdn/shop/products/johnwick_fuse.jpg?v=1668071841&width=1946">
        <button class="btn">Book Now</button>
      </div>
      <div class="card">
        <h3 class="title">Transformers One</h3>
        <img src="https://lh3.googleusercontent.com/proxy/O9YW21TZUYpqQsEXxuX7eWIdYdlniuRFW99HFwGUAOQo_tsPiq2XDmb3J2ASMCGNEWNRjlVX9Ax-af5NNLjw4Y28T2HIDExr4hdB8n8qXVpMHfealxK9">
        <button class="btn">Book Now</button>
      </div>
    </div>
      <div class="progress-bar">
      <div class="progress"></div>
      </div>
      
      <div class="dots">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      
      <div class="navigation">
        <button class="nav-btn prev">‚ùÆ</button>
        <button class="nav-btn next">‚ùØ</button>
      </div>
    </div>
  </div>


  <h2>Coming Soon</h2>
  <div class="flex-container">
    <div class="card">
      <h3 class="title">Avengers: Endgame</h3>
      <img src="https://m.media-amazon.com/images/I/81ai6zx6eXL._AC_SL1304_.jpg">
      <button class="btn">Book Now</button>
    </div>
    <div class="card">
      <h3 class="title">Spider-Man: No Way Home</h3>
      <img src="https://m.media-amazon.com/images/M/MV5BMmFiZGZjMmEtMTA0Ni00MzA2LTljMTYtZGI2MGJmZWYzZTQ2XkEyXkFqcGc@._V1_.jpg">
      <button class="btn">Book Now</button>
    </div>
    <div class="card">
      <h3 class="title">John Wick</h3>
      <img src="https://legacymovieposters.com/cdn/shop/products/johnwick_fuse.jpg?v=1668071841&width=1946">
      <button class="btn">Book Now</button>
    </div>
    <div class="card">
      <h3 class="title">Transformers One</h3>
      <img src="https://lh3.googleusercontent.com/proxy/O9YW21TZUYpqQsEXxuX7eWIdYdlniuRFW99HFwGUAOQo_tsPiq2XDmb3J2ASMCGNEWNRjlVX9Ax-af5NNLjw4Y28T2HIDExr4hdB8n8qXVpMHfealxK9">
      <button class="btn">Book Now</button>
    </div>
  </div>
</body>
</html>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const carousel = document.querySelector(".carousel");
  const cards = carousel.querySelectorAll(".card");
  const prevBtn = document.querySelector(".prev");
  const nextBtn = document.querySelector(".next");
  const progress = document.querySelector(".progress");
  const dotsContainer = document.querySelector(".dots");

  let cardIndex = 0;
  const totalCards = cards.length;
  const cardWidth = cards[0].offsetWidth;
  const cardMargin = 32;
  const moveAmount = cardWidth + cardMargin;

  // Dynamically generate dots
  dotsContainer.innerHTML = ""; // Clear any existing dots
  const dots = [];
  for (let i = 0; i < totalCards; i++) {
    const dot = document.createElement("div");
    dot.classList.add("dot");
    if (i === 0) dot.classList.add("active");
    dot.addEventListener("click", () => {
      cardIndex = i;
      updateCarousel();
      resetTimer();
    });
    dotsContainer.appendChild(dot);
    dots.push(dot);
  }

  // Lazy loading via IntersectionObserver
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        const card = entry.target;
        card.style.opacity = 1;
        card.style.transform = "translateY(0)";
        observer.unobserve(card);
        const img = card.querySelector("img");
        if (img && img.dataset.src) {
          img.src = img.dataset.src;
          delete img.dataset.src;
        }
      }
    });
  }, { threshold: 0.1 });

  cards.forEach((card) => {
    card.style.opacity = 0;
    card.style.transform = "translateY(30px)";
    observer.observe(card);
  });

  updateProgress();

  nextBtn.addEventListener("click", () => {
    slideCarousel("next");
  });

  prevBtn.addEventListener("click", () => {
    slideCarousel("prev");
  });

  let autoSlideTimer = setInterval(() => {
    slideCarousel("next");
  }, 5000);

  function resetTimer() {
    clearInterval(autoSlideTimer);
    autoSlideTimer = setInterval(() => {
      slideCarousel("next");
    }, 5000);
  }

  function slideCarousel(direction) {
    if (direction === "next") {
      cardIndex = (cardIndex + 1) % totalCards;
    } else {
      cardIndex = (cardIndex - 1 + totalCards) % totalCards;
    }
    updateCarousel();
    resetTimer();
  }

  function updateCarousel() {
    carousel.style.transform = `translateX(-${cardIndex * moveAmount}px)`;

    dots.forEach((dot, index) => {
      dot.classList.toggle("active", index === cardIndex);
    });

    updateProgress();
  }

  function updateProgress() {
    const progressWidth = ((cardIndex + 1) / totalCards) * 100;
    progress.style.width = `${progressWidth}%`;
  }

  let touchStartX = 0;
  let touchEndX = 0;

  carousel.addEventListener("touchstart", (e) => {
    touchStartX = e.changedTouches[0].screenX;
  });

  carousel.addEventListener("touchend", (e) => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  });

  function handleSwipe() {
    if (touchStartX - touchEndX > 50) {
      slideCarousel("next");
    } else if (touchEndX - touchStartX > 50) {
      slideCarousel("prev");
    }
  }

  cards.forEach((card) => {
    card.addEventListener("mouseenter", () => {
      cards.forEach((c) => (c.style.opacity = 0.7));
      card.style.opacity = 1;
    });
    card.addEventListener("mouseleave", () => {
      cards.forEach((c) => (c.style.opacity = 1));
    });
  });


  document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowRight") {
      slideCarousel("next");
    } else if (e.key === "ArrowLeft") {
      slideCarousel("prev");
    }
  });

  setTimeout(() => {
    cards.forEach((card, index) => {
      setTimeout(() => {
        card.style.opacity = 1;
        card.style.transform = "translateY(0)";
      }, index * 100);
    });
  }, 300);
});

</script>
